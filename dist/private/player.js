define("private/player",function(require,a,b){"use strict";function c(a){window.postMessage({action:"play",url:a},"*")}function d(){h.hasLogin().done(function(){h.requestUrl2().done(function(a){if(a.length){var b=e.map(a,function(a,b){var c=a.vod_url,d=a.vod_url_dt17,e="流畅版";return 1===b?e="高清版":b>1&&(e="超清版"),'<li><a class="private-play-vod" href="/private/play.html?flv='+encodeURIComponent(d)+"&m3u8="+encodeURIComponent(c)+'" data-flv="'+d+'" data-m3u8="'+c+'">'+e+'</a><a href="'+d+'">flv</a><a href="'+c+'">m3u8</a></li>'});b=b.join("\n"),f.html(b),c({flv:a[0].vod_url_dt17,m3u8:a[0].vod_url})}else g.show().html("转码未完成，请稍候再试")}).fail(function(){g.show().html("加载播放地址失败")})}).fail(function(){g.show().html('<a href="http://vod.xunlei.com" target="_blank">你需要先登录迅雷</a>')}),e(document).on("click",".private-play-vod",function(a){a.preventDefault();var b=e(this),d=b.data("flv"),f=b.data("m3u8");c({flv:d,m3u8:f})})}if(location.href.match(/private\/play\.html/i)){var e=require("jquery"),f=(e(".container"),e(".video-container"),e(".video-nav")),g=e(".video-alert"),h=require("private/yun");b.exports={init:d}}});