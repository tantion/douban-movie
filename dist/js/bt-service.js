define(function(require,a,b){"use strict";var c=require("jquery"),d=require("async"),e=[require("js/bt-tiantang"),require("js/bt-baidu")],f=function(){};f.prototype={constructor:f,search:function(a){var b=new c.Deferred,f=e.slice(0);return d.eachSeries(f,function(c,d){c.search(a).progress(function(a){b.notify(a)}).done(function(a){d(a)}).fail(function(){b.notify("没找到资源，切换到下一个服务器。"),d()})},function(a){a?b.resolve(a):b.reject()}),b.promise()}},b.exports={search:function(a){return(new f).search(a)}}});